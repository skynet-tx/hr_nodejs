/**
 * User: osavch
 * Date: 28.10.13
 * Time: 10:42
 * File name:
 */

var mysql = require('mysql'),
    pool   = mysql.createPool({
        host     : 'localhost',
        user     : 'root',
        password : '',
        database: 'hr_db'
    });

/**
 * Get positions
 * @param req
 * @param res
 */
exports.getPositions = function(req, res){
    var sql = "SELECT " +
          "positions.* " +
          "FROM  positions " +
          "ORDER BY positions.id DESC ";
    pool.getConnection(function(err, connection) {
        // Use the connection
        connection.query(sql, function(err, rows, fields) {
            if (err) throw err;

            res.setHeader('Content-Type', 'application/json');
            res.send(rows);
        });
    });
}
